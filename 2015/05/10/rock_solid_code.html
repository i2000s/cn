<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>12 steps toward rock-solid scientific Python code</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Xiaodong Qi">
    <!-- Le styles -->
   <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Quattrocento+Sans:bold,bolditalic,italic|Quattrocento+Sans">
   <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Rosario:bold,bolditalic,italic|Rosario">
    <link href="/assets/css/light.css" rel="stylesheet" type="text/css" id="stl" title="light">
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link href="/assets/css/syntax.css" rel="stylesheet" type="text/css" id="stl" title="light">

    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-46730871-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>

  <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-54f225a84524edd3" async="async"></script>

  <body>

  
<!-- Navbar  ================================================== -->
<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <a class="brand" href="/README.html">  <img style="float:right;" src="/assets/img/icon-info-circle-inverted.png" alt="info"></a>
      <div class="nav-collapse">
        <ul class="nav">
          <li>
          <a href="/index.html">Home</a></li>

          <li>
          <a href="/research.html">Research</a></li>

          <li>
          <a href="/pubs/index.html">Publications and Actities</a></li>

          <!-- <li>
          <a href="/noteblog.html">Blog</a></li> -->

          <!-- <li>
          <a href="http://i2000s.github.io/notebooks.html">Notebooks</a></li> -->

          <li>
          <a href="/community.html">Community</a></li>

          <!-- <li>
          <a href="http://i2000s.github.io/teaching.html">Learning</a></li> -->

          <!--<li>
          <a href="/tools.html">Tools</a></li>

          <li>
          <a href="/philosophy.html">Philosophy</a></li> -->

        </ul>
      </div><!--/.nav-collapse -->
       <form class="navbar-search pull-right" method="get" action="http://google.com/search">
         <input type="hidden" name="q" value="site:http://i2000s.github.io ">
         <input type="text" class="search-query" name="q">
         <button class="btn btn-mini" type="submit"><i class="icon-search"></i></button>
       </form>
     </div> <!-- /container -->
   </div> <!-- /navbar-inner -->
 </div> <!-- /navbar -->


  <div class="container"> <!-- Twitter bootstrap has all body content in a container -->

    <!-- Custom masthead (big titles) -->

<header class="jumbotron subhead">
    <h1 class="entry-title">12 steps toward rock-solid scientific Python code</h1>
    <h3></h3>
</header>

      <div class="row">
        <div class="span8 post">
          <p>Much of my research is based on computer code.  My code has bugs.  </p>

<p><em>Does that mean that my research has errors?</em>  Quite possibly.  </p>

<p><em>Are you, my fellow scientist, in the same boat?</em>  Probably.</p>

<p><em>What can we do about it?</em></p>

<p>We must adopt practices that are known to lead to more correct code.
We must be willing to devote the time and energy that those practices require.
Most of the time, this is neither fun nor glorious.  We don&#39;t try to cut corners
when developing a mathematical proof or preparing an experiment -- we know that
leads to error.  Writing computer code is no different; if anything, it requires
that we take an even more methodical approach.
It is time for computational scientists to own up to this.  If we want to have
confidence in our results, and if we want others to be able to build on them,
there is no other choice.</p>

<p>The bonus is that adopting these practices can lead to cleaner, simpler code that is easier to understand, maintain, and debug.  In the long term, I believe that these practices lead to an overall time <em>savings</em>, and the opportunity to spend more time using our computational tools to perform research.</p>

<p>In short, what I&#39;m about to show you will allow you to:</p>

<ul>
<li>Have confidence in your computed results</li>
<li>Accelerate your research</li>
<li>Better communicate your research</li>
<li>Collaborate more effectively</li>
<li>Help others build on your work</li>
</ul>

<h2>Twelve (baby) steps</h2>

<p>So here it is: my 12-step program to writing scientific code that you can believe in:</p>

<ol>
<li><a href="/2015/05/11/use_version_control.html">Use version control</a></li>
<li><a href="/2015/05/12/code_in_the_open.html">Put your code in the cloud, in the open</a></li>
<li><a href="/2015/05/13/add_a_readme.html">Add a README and a License</a></li>
<li><a href="/2015/05/14/write_docstrings.html">Write docstrings</a></li>
<li><a href="/2015/05/15/write_tests.html">Write  tests</a></li>
<li><a href="/2015/05/16/track_issues.html">Keep track of issues</a></li>
<li><a href="/2015/05/29/automate_tests.html">Automate the tests</a></li>
<li>Automate the build (<em>coming soon</em>)</li>
<li>Use continuous integration (<em>coming soon</em>)</li>
<li>Monitor test coverage (<em>coming soon</em>)</li>
<li>Write narrative documentation (<em>coming soon</em>)</li>
<li>Catch errors as you type them (<em>coming soon</em>)</li>
</ol>

<p>I know what you&#39;re thinking: that sounds like a lot of work.  It is.  But my goal in this series is to make each of these steps as straightforward and painless as possible.  Thanks to a number of recently-developed tools, <strong>most of these tasks can be done very quickly</strong>, at least for small and simple projects.</p>

<p>There is nothing magical about this precise set of steps; I could have broken them down in a different way or included others.  What&#39;s essential are the underlying principles:</p>

<ul>
<li>Automation (steps 1, 5, 6,7, 8, 9, 10, 12): Removal of manual processes makes code more reliable.</li>
<li>Documentation (steps 3, 4, 5, 6, 11): Writing and thinking about the code makes it more reliable.</li>
<li>Communication/collaboration (steps 1, 2, 3, 4, 5, 6, 11): Code that is read and used by more than one person is more reliable.</li>
</ul>

<h2>The 12-step challenge</h2>

<p>You could casually read through this series of posts and think about implementing these changes someday.  But don&#39;t.  <strong>Pick a current scientific project with code</strong>, and commit yourself now to getting it in order by following these steps.  Then go through the posts and <strong>apply the instructions at each step</strong> to the project you&#39;ve chosen.  When you&#39;re done, you&#39;ll have one rock-solid code project and the know-how to run all of your projects that way.  The next one will be even easier.</p>

<h2>Pre-requisites</h2>

<p>I&#39;ve tried to make these posts very simple, but there is a minimal amount of know-how I assume.  In particular, you must be able to:</p>

<ul>
<li>Open a terminal, navigate your file system, and execute commands</li>
<li>Edit text files</li>
</ul>

<p>If you&#39;ve taken a <a href="http://software-carpentry.org/">Software Carpentry</a> course, you&#39;re more than prepared.</p>

<h2>What these steps won&#39;t do</h2>

<p>I&#39;m not going to tell you how to actually <em>design</em> better code.  That&#39;s much harder!  For that, you should read a book on programming style, like <a href="https://pragprog.com/the-pragmatic-programmer">The Pragmatic Programmer</a> or <a href="http://cc2e.com/">Code Complete</a>.</p>

<p>I&#39;m not going to make you an expert in the topics listed above.  My goal is just to get you over the initial
psychological bump, from &quot;<em>I have no idea what that is</em>&quot; to &quot;<em>yeah, I can basically do that</em>&quot;.  This is the 20%
effort that gives 80% of the benefit.</p>

<h2>Questions</h2>

<h3>My code is just some simple scripts; does this stuff still apply?</h3>

<p>Yes!  In fact, I suggest starting with a small and simple project -- the smaller the better.  To demonstrate, I&#39;ve written <a href="https://github.com/ketch/rock-solid-code-demo">a tiny package that does LU factorization (Gaussian elimination) for square matrices</a>.</p>

<h3>Why Python?</h3>

<p>Useful tutorials need to be concrete.  The steps are applicable to any language, but the best tools
for achieving them vary by language.  Python is a popular language, and is what I use most.</p>

<h3>Why are you so sure my code has bugs?</h3>

<p>If you&#39;re asking this, go read <a href="http://statweb.stanford.edu/%7Edonoho/Reports/2008/15YrsReproResch-20080426.pdf">Donoho et. al.&#39;s paper on reproducible computing</a>, from which I quote:</p>

<blockquote>
<p>&quot;<em>Error is ubiquitous in scientific computing, and one needs to work very diligently and energetically to eliminate it.</em>&quot;</p>
</blockquote>

<p>Okay, what are you waiting for?  Go read <a href="/2015/05/11/use_version_control.html">step one</a>!</p>

<h4>Note: this post was originally written by David Ketcheson and posted at <a href="http://www.davidketcheson.info/2015/05/10/rock_solid_code.html">http://www.davidketcheson.info/2015/05/10/rock<em>solid</em>code.html</a></h4>

<p>under the <a href="http://creativecommons.org/licenses/by/3.0/deed.en_US">Creative Commons Attribution 3.0 Unported License</a>.</p>

          <!-- Go to www.addthis.com/dashboard to customize your tools -->
          <div class="addthis_sharing_toolbox">ShareIt...</div>
        </div>


        <!-- Custom sidebar -->
        <div class="span2">
          <div class="sidebar">
            Posted on
<time pubdate datetime="2015-05-10T00:00:00+00:00"
      itemprop="datePublished">10 May 2015</time>.
<br />
          
            <p><a class="btn btn-mini" href='/2015/01/13/using_matplotlib_image_comparison.html'>previous</a>
          
          
            <a class="btn btn-mini" href='/2015/05/11/use_version_control.html'>next</a></p>
          



<span> <a class="btn btn-mini" href="https://github.com/i2000s/i2000s.github.io/commits/master/_posts">commit history</a></span>

<span itemprop="keywords">
            
              <a rel="tag" class="tag" href="/tags.html#python">#python</a>
              , 
            
              <a rel="tag" class="tag" href="/tags.html#testing">#testing</a>
              , 
            
              <a rel="tag" class="tag" href="/tags.html#reproducibility">#reproducibility</a>
              , 
            
              <a rel="tag" class="tag" href="/tags.html#documentation">#documentation</a>
              , 
            
              <a rel="tag" class="tag" href="/tags.html#version-control">#version-control</a>
              
            
</span>



<div style="font-weight:bold; text-align:center;font-size:1.0em;">
 <i class="icon-chevron-left"></i> <a href="/archives.html">All posts by date,</a>
 <i class="icon-list"></i> <a href="/categories.html">by category,</a>
 <i class="icon-tag"></i> <a href="/tags.html">by tag.</a>
</div>

         </div>
       </div>

      </div>
<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>09 Dec 2014</span> &raquo; <a href="/2014/12/09/teaching_kids_to_program.html">How and why I'm teaching my kids to code</a></li>
    
      <li><span>13 May 2015</span> &raquo; <a href="/2015/05/13/add_a_readme.html">Step 3 - Add a README and a License</a></li>
    
      <li><span>01 Dec 2014</span> &raquo; <a href="/2014/12/01/clawpack-20.html">Clawpack turns 20</a></li>
    
  </ul>
</div>


      <!-- Disqus Comments -->
      <div class="row">
        <div class="span12">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'qxd'; // required: replace example with your forum shortname
                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
      </div>

       <footer class="footer">
         <div class="span12">
            <div class="span5">

              <a href="mailto:i2000s@hotmail.com" onClick="recordOutboundLink(this, 'Outbound Links', 'email'); return false;"><img src="/assets/img/icon-email.png" alt="email"> </a>
              <a href="https://github.com/i2000s" onClick="recordOutboundLink(this, 'Outbound Links', 'Github'); return false;"><img src="/assets/img/icon-github.png" alt="github"> </a>
              <a href="https://plus.google.com/+XiaodongQi"><img src="/assets/img/icon-gplus.png" alt="G+"></a>
              <a href="http://scholar.google.com/citations?user=6FdqHlIAAAAJ&hl=en"><img src="/assets/img/icon-scholar.png" alt="G+"></a>
              <a href="https://twitter.com/i2000s"><img src="/assets/img/icon-twitter.png" alt="Twitter"></a>
              <a href="/atom.xml" onClick="recordOutboundLink(this, 'Outbound Links', 'RSS'); return false;"><img src="/assets/img/icon-rss.png" alt="feed"></a>
              <a href="http://physics.stackexchange.com/users/37682/xiaodong-qi"><img src="/assets/img/icon-stackoverflow.png" alt="Physics Stackexchange"></a>
              <div>
                <br><span> &nbsp; </span> <span><a href="/CV-XiaodongQi.pdf"> CV of Xiaodong Qi</a></span>
                <br><img alt="Creative Commons License" style="border-width:0" align="right" src="https://licensebuttons.net/l/by/3.0/88x31.png" />
                <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">This site</span> is licensed under the
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution License</a> or specified.
                <br>
              </div>
           </div>

           <div class="span4">
              <div class="span4 team-member" marge-top="-20px">
              <img class="img-responsive img-thumbnail img-circle" width="200px" alt="" src="/assets/img/qi2016.jpg" align="middle"></img>
           </div>

      </div>
      <div class="span12" align="center">
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
              <span align="center" margin-top="-10px">Copyright &copy; 2016 Xiaodong Qi. </span></a>
            <br>
      </div>

    </footer>
   </div><!-- /container -->

        <!-- Le javascript
    ================================================== -->

    <!-- Placed at the end of the document so the pages load faster -->
    <!-- JQuery, used on a few pages -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" ></script>
    <script src="//cdn.jsdelivr.net/jquery.mixitup/latest/jquery.mixitup.min.js"></script>
    <script src="/assets/js/mixitup-mine.js"></script>
    <!-- Equations using MathJax -->
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });       </script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'],['\\(','\\)'] ] } }); </script>
    <!-- Twitter Bootstrap Javascript -->
    <script src="/assets/js/bootstrap-collapse.js"></script> <!-- for collapsing navbar-->
    <!-- Unused Twitter Bootstrap Javascript
    <script src="http://i2000s.github.io/assets/js/bootstrap-dropdown.js"></script>
    <script src="http://i2000s.github.io/assets/js/google-code-prettify/prettify.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-transition.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-alert.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-modal.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-scrollspy.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-tab.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-tooltip.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-popover.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-button.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-carousel.js"></script>
    <script src="http://i2000s.github.io/assets/js/bootstrap-typeahead.js"></script>
    <script src="http://i2000s.github.io/assets/js/application.js"></script>
    -->

  </body>
</html>

